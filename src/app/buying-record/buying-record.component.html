  <app-search></app-search>
  <app-adds-banner></app-adds-banner>
    <section class="buy-record text-center mt-5 mb-5">
        <div class="header ">
            <span class="title"><img src="../../assets/images/left-arrow.svg" class="ps-2">سجل الشراء</span>
        </div>
        <div class="my-prods pt-5 pb-5">
          <!-- <div class="loader pt-5 pb-5" *ngIf="loadding" dir="ltr">
            <svg version="1.1" id="L3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 100 100" width="70px" height="70px" enable-background="new 0 0 0 0" xml:space="preserve">
          <circle fill="none" stroke="#E29547" stroke-width="4" cx="50" cy="50" r="44" style="opacity:0.7;"/>
          <circle fill="#E29547" stroke="#FFEEDD" stroke-width="3" cx="8" cy="54" r="6" >
            <animateTransform
              attributeName="transform"
              dur="1s"
              type="rotate"
              from="0 50 48"
              to="360 50 52"
              repeatCount="indefinite" />
          </circle>
          </svg>
          </div> -->
          <div class="products-row row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4 justify-content-start pt-5 pb-5">
            <div class="col"  *ngFor="let record of records">
              <div class="card h-100"*ngIf="record.category_slug !== 'car_plates'">
                <div class="card-header text-center" >
                  <img src="{{record.default_image ? record.default_image : '../../assets/images/placeholderimg.jpg'}}" alt="car" width="100%" height="200px !important">
                </div>
                <div class="card-body text-center p-3">
                    <h4>{{(record.name.length > 20)? (record.name | slice:0:20)+'..':(record.name)}}</h4>
                  <p class="discription" *ngIf="record.desc !== null">{{(record.desc.length > 40)? (record.desc| slice:0:40)+'..': (record.desc)}}</p>
                  <div class="evaluation d-flex justify-content-between align-items-center">
                    <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{record.created_since | dateAgo}}</span></p>
                    <p class="m-0"><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{record.region_name == '' ? 'غير معروف': record.region_name}}</p>
                  </div>
                </div>
              </div>
              <div class="card h-100" *ngIf="record.category_slug == 'car_plates'">
                <div class="card-header plates text-center" >
                  <ng-container  *ngFor="let property of record.properties">
                    <ng-container *ngIf="property.slug_name == 'plate_type_filter_6'">
                      <img *ngIf="property.filter_value.filter_value == 'نقل'" src="../../assets/images/carplate_nakl.svg" alt="carplate_img" width="100%" height="200px !important">
                      <img *ngIf="property.filter_value.filter_value !== 'نقل'" src="../../assets/images/car_paletes_details.svg" alt="carplate_img" width="100%" height="200px !important">
                    </ng-container>
                    <span  *ngIf="property.type == 'text'">
                        <span *ngIf="property.name_ar == 'حروف اللوحة عربي'" class="card_chars_ar">{{property.filter_value.filter_value}}</span>
                        <span *ngIf="property.name_ar == 'حروف اللوحة انجليزي'" class="card_chars_en">{{property.filter_value.filter_value}}</span>
                        <span *ngIf="property.name_ar == 'ارقام اللوحة عربي'" class="card_num_ar">{{property.filter_value.filter_value}}</span>
                        <span *ngIf="property.name_ar == 'ارقام اللوحة انجليزي'" class="card_num_en">{{property.filter_value.filter_value}}</span>
                    </span>
                  </ng-container>
                </div>
                <div class="card-body p-3">
                  <div class="d-flex justify-content-between align-items-center pb-2">
                    <h4 *ngIf="record.category_slug !== 'car_plates'">{{(record.name.length > 20)? (record.name | slice:0:20)+'..':(record.name)}}</h4>
                    <ng-container *ngIf="record.category_slug === 'car_plates'">
                      <ng-container  *ngFor="let property of record.properties">
                        <a *ngIf="property.slug_name == 'plate_type_filter_6'" 
                        >{{property.filter_value.filter_value}}</a>
                      </ng-container>
                    </ng-container>
                    <img src="../../assets/images/nego_icon.svg" alt="nego_icon" *ngIf="record.price == 0">
                  </div>
                  <div class="d-flex justify-content-between align-items-center pb-2">
                    <p class="card_num" *ngIf="record.price !== 0">{{record.price}} ر.س</p>
                    <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{record.created_since | dateAgo}}</span></p>
                  </div>
                  <div class="evaluation d-flex justify-content-between align-items-center">
                    <p><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{record.region_name == null ? 'غير معروف': record.region_name}}</p>
                  </div>
                </div>
              </div>
            </div>
        </div>
              <!-- <p class="text-danger text-center">لا يوجد مشتريات</p> -->
              <p class="text-danger text-center" *ngIf="error">{{error}}</p>

        </div>
    </section>
  <!-- <app-testimonial></app-testimonial> -->