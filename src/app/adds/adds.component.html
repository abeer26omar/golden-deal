<div class="add-content my-5">
    <div class="card">
        <div class="card-header">
          <div class="d-flex justify-content-end p-3 edit">
              <a (click)="editCover(portfolio.data.cover_url)"><img src="../../assets/images/edit-btn.svg" alt="edit-btn"></a>
          </div>
          <img class="imgCover" src="{{portfolio.data.cover_url ? portfolio.data.cover_url : '../../assets/images/coverPlaceholder.png' }}" alt="cover">
        </div>
        <div class="card-body">
            <div class="user-profile  my-3">
                <div class="profile-img">
                    <img src="{{portfolio.data.image_url ? portfolio.data.image_url : '../../assets/images/profilePlacholder.png'}}" alt="profile">
                </div>
                <div class="row justify-content-center my-info">
                    <div class="user-data text-center col-sm-5 col-12 ">
                        <p class="user-name">{{portfolio.data.name}}</p>
                    </div>
                </div>
            </div>
            <div class="user-info p-1 p-sm-3">
                  <ul ngbNav #nav="ngbNav" class="nav-tabs" [(activeId)]="active">
                    <li [ngbNavItem]="2">
                      <a ngbNavLink>الاعلانات</a>
                      <ng-template ngbNavContent>
                        <div class="filter d-flex justify-content-between align-items-center pt-3" #productsContainer>
                            <p class="all">الكل</p>
                            <a (click)="openFilterModal()">
                              <img src="../../assets/images/filter.svg" alt="filter" width="50px">
                            </a>
                        </div>
                        <p class="filter-result"><span class="ps-2">{{active_status}}</span></p>
                        <div class="products-row row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4 justify-content-start">
                          <div class="col wow fadeIn" data-wow-duration="1.3s" 
                            style="visibility: visible; 
                            animation-duration: 1.3s; 
                            animation-name: fadeIn;" 
                            *ngFor="let product of products">
                              <div class="card h-100" *ngIf="product.category_slug !== 'car_plates'">
                                <div class="card-header text-center" >
                                    <div ngbDropdown class="btn-dots"*ngIf="product.status === 'active'">
                                      <a type="button" class="" id="dropdownBasic1" ngbDropdownToggle><img src="../../assets/images/btn-dots.svg" alt="btn-dots"></a>
                                      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                                        <button ngbDropdownItem class="d-flex justify-content-between align-items-center" (click)="openDelDialog(product.id)">
                                          <span>حذف</span><img src="../../assets/images/delete.svg" alt="delete">
                                        </button>
                                        <button ngbDropdownItem class="d-flex justify-content-between align-items-center" (click)="editAdd(product.id)">
                                          <span>تعديل</span><img src="../../assets/images/edit.svg" alt="edit">
                                        </button>
                                        <button ngbDropdownItem class="d-flex justify-content-between align-items-center" (click)="openSolidDialog(product.id)">
                                          <span>تحديد ك مباع</span><img src="../../assets/images/solid.svg" alt="solid">
                                        </button>
                                        <button ngbDropdownItem class="d-flex justify-content-between align-items-center" (click)="openPinDialog(product.id)">
                                          <span>تثبيت الاعلان </span><svg fill="#11014D" width="16px" height="16px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M31.714 11.864l-11.505-11.563c-0.248-0.249-0.605-0.35-0.948-0.266-0.341 0.083-0.613 0.339-0.717 0.674-0.692 2.228-0.773 4.245-0.244 6.084-0.049 0.034-0.095 0.070-0.138 0.113l-5.347 5.346c-1.725-0.8-3.579-1.233-5.428-1.233-1.175 0-2.327 0.174-3.424 0.515-0.334 0.104-0.59 0.375-0.674 0.714s0.014 0.698 0.261 0.947l6.843 6.887-9.568 9.72-0.832 2.192 2.011-0.777 9.793-9.72 6.932 6.977c0.189 0.192 0.447 0.295 0.709 0.295 0.079 0 0.159-0.010 0.238-0.029 0.341-0.084 0.613-0.34 0.717-0.675 0.905-2.913 0.64-6.042-0.636-8.848l5.459-5.46c0.020-0.020 0.033-0.041 0.051-0.063 0.824 0.236 1.678 0.361 2.564 0.361 1.101 0 2.268-0.158 3.468-0.531 0.334-0.104 0.59-0.375 0.674-0.714s-0.015-0.697-0.262-0.945zM18.849 25.755l-12.587-12.669c3.23-0.377 6.714 0.925 9.236 3.447 2.51 2.509 3.735 5.978 3.351 9.221zM18.757 17.392c-0.526-0.804-1.14-1.568-1.845-2.274-0.702-0.702-1.469-1.321-2.28-1.854l4.504-4.503c0.459 0.799 1.052 1.563 1.782 2.291 0.745 0.745 1.534 1.348 2.363 1.814zM22.332 9.639c-1.923-1.923-2.664-4.067-2.271-6.653l8.966 9.012c-2.583 0.37-4.738-0.403-6.695-2.36z"></path> </g></svg>
                                        </button>
                                      </div>
                                    </div>
                                  <div class="favorite" *ngIf="product.status === 'sold'">
                                    <img src="../../assets/images/solid-flag.svg" alt="">
                                  </div>  
                                  <img  (click)="productDetails(product.id)" style="cursor: pointer;" class="img-raduis" 
                                  src="{{product.default_image ? product.default_image : '../../assets/images/placeholderimg.jpg'}}" alt="car" width="100%" height="200px !important">
                                </div>
                                <div class="card-body p-3">
                                  <div class="d-flex justify-content-between align-items-center pb-2">
                                      <a  (click)="productDetails(product.id)" [ngClass]="{'pe-none': product.status === 'sold' }">{{(product.name.length > 20)? (product.name | slice:0:20)+'..':(product.name)}}</a>
                                    <img src="../../assets/images/nego_icon.svg" alt="nego_icon" *ngIf="product.price == 0">
                                  </div>
                                  <div class="d-flex justify-content-between align-items-center pb-2">
                                    <p class="card_num" *ngIf="product.price !== 0">{{product.price}} ر.س</p>
                                    <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{product.created_since | dateAgo}}</span></p>
                                  </div>
                                  <div class="evaluation d-flex justify-content-between align-items-center">
                                    <p><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{product.region_name == '' ? 'غير معروف': product.region_name}}</p>
                                  </div>
                                </div>
                              </div>
                              <div class="card h-100" *ngIf="product.category_slug == 'car_plates'">
                                <div class="card-header plates text-center" >
                                  <a (click)="productDetails(product.id)"
                                    [ngClass]="{'pe-none': product.status === 'sold' }" class="car_plates_container">
                                    <ng-container *ngFor="let property of product.properties">
                                            <ng-container *ngIf="property.slug_name == 'plate_type_filter_6'">
                                              <img class="car_plates" src="{{property.filter_value.filter_value == 'نقل' ?  '../../assets/images/carplate_nakl.svg' : '../../assets/images/car_paletes_details.svg'}}" alt="carplate_img">
                                            </ng-container>
                                    </ng-container>
                                    <table class="table">
                                      <tbody>
                                        <tr>
                                          <ng-container *ngFor="let property of product.properties">
                                            <ng-container *ngIf="property.type == 'text'">
                                                <td colspan="1" *ngIf="property.name_ar == 'حروف اللوحة عربي'"  class="separate_thin" [ngClass]="{'mac': mac}"></td>
                                                <td colspan="2" *ngIf="property.name_ar == 'حروف اللوحة عربي'">
                                                  <span>{{property.filter_value.filter_value | input}}</span>
                                                </td>
                                                <td colspan="1" *ngIf="property.name_ar == 'ارقام اللوحة عربي'" class="separate_thick"></td>
                                                <td colspan="2" *ngIf="property.name_ar == 'ارقام اللوحة عربي'">
                                                  <span>{{property.filter_value.filter_value | input}}</span>
                                                </td>
                                            </ng-container>
                                          </ng-container>
                                        </tr>
                                        <tr>
                                          <ng-container *ngFor="let property of product.properties">
                                            <ng-container *ngIf="property.type == 'text'">
                                              <!-- <ng-container *ngIf="property.name_ar == 'حروف اللوحة انجليزي' || property.name_ar == 'ارقام اللوحة انجليزي'">
                                                <td colspan="">{{property.filter_value.filter_value}}</td>
                                              </ng-container> -->
                                                <td colspan="1" *ngIf="property.name_ar == 'حروف اللوحة انجليزي'" class="separate_thin"  [ngClass]="{'mac': mac}"></td>
                                                <td colspan="2" *ngIf="property.name_ar == 'حروف اللوحة انجليزي'">
                                                  <span>{{property.filter_value.filter_value | input}}</span>
                                                </td>
                                                <td colspan="1" *ngIf="property.name_ar == 'ارقام اللوحة انجليزي'" class="separate_thick"></td>
                                                <td colspan="2" *ngIf="property.name_ar == 'ارقام اللوحة انجليزي'">
                                                  <span class="lrt">{{property.filter_value.filter_value | input}}</span>
                                                </td>
                                            </ng-container>
                                          </ng-container>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </a>
                                  <div  class="favorite" *ngIf="product.status === 'active'">
                                    <div ngbDropdown class="btn-dots">
                                      <a type="button" class="" id="dropdownBasic1" ngbDropdownToggle><img src="../../assets/images/btn-dots.svg" alt="btn-dots"></a>
                                      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                                        <button ngbDropdownItem class="d-flex justify-content-between align-items-center" (click)="openDelDialog(product.id)">
                                          <span>حذف</span><img src="../../assets/images/delete.svg" alt="delete">
                                        </button>
                                        <button ngbDropdownItem class="d-flex justify-content-between align-items-center" (click)="editAdd(product.id)">
                                          <span>تعديل</span><img src="../../assets/images/edit.svg" alt="edit">
                                        </button>
                                        <button ngbDropdownItem class="d-flex justify-content-between align-items-center" (click)="openSolidDialog(product.id)">
                                          <span>تحديد ك مباع</span><img src="../../assets/images/solid.svg" alt="solid">
                                        </button>
                                      </div>
                                  </div>
                                  </div>
                                  <div class="favorite" *ngIf="product.status === 'sold'">
                                    <img src="../../assets/images/solid-flag.svg" alt="">
                                  </div>  
                                </div>
                                  <div class="card-body p-3">
                                    <div class="d-flex justify-content-between align-items-center pb-2">
                                      <ng-container  *ngFor="let property of product.properties">
                                        <a (click)="productDetails(product.id)" 
                                        [ngClass]="{'pe-none': product.status === 'sold' }"
                                        *ngIf="property.slug_name == 'plate_type_filter_6'">{{property.filter_value.filter_value}}</a>
                                      </ng-container>
                                      <img src="../../assets/images/nego_icon.svg" alt="nego_icon" *ngIf="product.price == 0">
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center pb-2">
                                      <p class="card_num" *ngIf="product.price !== 0">{{product.price}} ر.س</p>
                                      <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{product.created_since | dateAgo}}</span></p>
                                    </div>
                                    <div class="evaluation d-flex justify-content-between align-items-center">
                                      <p><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{product.region_name == null ? 'غير معروف': product.region_name}}</p>
                                    </div>
                                  </div>
                              </div>
                          </div>
                        </div>
                        <p class="none">{{errProducts}}</p>
                          <ngb-pagination *ngIf="products.length !== 0" class="d-flex justify-content-center my-pagination" 
                            [collectionSize]="meta.total"
                            [pageSize]="meta.per_page" 
                            [(page)]="meta.current_page"
                            [boundaryLinks]="true"
                            [maxSize]="5"
                            [rotate]="true"
                            [ellipses]="false"
                            (pageChange)="paginate($event)">
                              <ng-template ngbPaginationFirst>
                                <i class="fas fa-angle-double-right"></i>
                              </ng-template>
                              <ng-template ngbPaginationNext>
                                <i class="fa-solid fa-angle-left"></i>
                              </ng-template>
                              <ng-template ngbPaginationPrevious>
                                <i class="fa-solid fa-angle-right"></i>
                              </ng-template>
                              <ng-template ngbPaginationLast>
                                <i class="fas fa-angle-double-left"></i>
                              </ng-template>
                          </ngb-pagination>
                        <div class="d-flex justify-content-center py-5">
                            <button class="btn btn-adds btn-prim" type="button" (click)="addNewAdd()">اضافه اعلان</button>
                        </div>
                      </ng-template>
                    </li>
                    <li [ngbNavItem]="3" id="fav">
                      <a ngbNavLink (click)="getMyFav()">المفضله</a>
                      <ng-template ngbNavContent>
                        <div class="loader" *ngIf="loader">
                          <div class="dot1"></div>
                          <div class="dot2"></div>
                          <div class="dot3"></div>
                        </div>
                        <div class="products-row row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4 justify-content-start py-5">
                            <div class="col wow"
                            *ngFor="let fav of favoraties.data.favourites" >
                              <div class="card h-100" *ngIf="fav.product.category_slug !== 'car_plates'">
                                <div class="card-header text-center" >
                                  <a (click)="actionService.removeFav(fav.product_id)" class="fav"><img src="../../assets/images/removeFav.svg" alt="removeFav"></a>
                                  <img  class="img-raduis" (click)="productDetails(fav.product_id)" style="cursor: pointer;"
                                  src="{{fav.product.default_image ? fav.product.default_image : '../../assets/images/placeholderimg.jpg'}}" alt="car" width="100%" height="200px !important">
                                </div>
                                <div class="card-body p-3">
                                  <div class="d-flex justify-content-between align-items-center pb-2">
                                      <a  (click)="productDetails(fav.product.id)" [ngClass]="{'pe-none': fav.product.status === 'sold' }">{{(fav.product.name.length > 20)? (fav.product.name | slice:0:20)+'..':(fav.product.name)}}</a>
                                      <img src="../../assets/images/nego_icon.svg" alt="nego_icon" *ngIf="fav.product.price == 0">
                                    </div>
                                  <div class="d-flex justify-content-between align-items-center pb-2">
                                    <p class="card_num" *ngIf="fav.product.price !== 0">{{fav.product.price}} ر.س</p>
                                    <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{fav.product.created_since | dateAgo}}</span></p>
                                  </div>
                                  <div class="evaluation d-flex justify-content-between align-items-center">
                                    <p><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{fav.product.region_name == '' ? 'غير معروف': fav.product.region_name}}</p>
                                  </div>
                                </div>
                              </div>
                              <div class="card h-100" *ngIf="fav.product.category_slug == 'car_plates'">
                                <div class="card-header plates text-center">
                                  <a (click)="actionService.removeFav(fav.product_id)" class="fav"><img src="../../assets/images/removeFav.svg" alt="removeFav"></a>
                                  <a (click)="productDetails(fav.product.id)"
                                  [ngClass]="{'pe-none': fav.product.status === 'sold' }" class="car_plates_container">
                                  <ng-container *ngFor="let property of fav.product.properties">
                                          <ng-container *ngIf="property.slug_name == 'plate_type_filter_6'">
                                            <img class="car_plates" src="{{property.filter_value.filter_value == 'نقل' ?  '../../assets/images/carplate_nakl.svg' : '../../assets/images/car_paletes_details.svg'}}" alt="carplate_img">
                                          </ng-container>
                                  </ng-container>
                                  <table class="table">
                                    <tbody>
                                      <tr>
                                        <ng-container *ngFor="let property of fav.product.properties">
                                          <ng-container *ngIf="property.type == 'text'">
                                              <td colspan="1" *ngIf="property.name_ar == 'حروف اللوحة عربي'"  class="separate_thin" [ngClass]="{'mac': mac}"></td>
                                              <td colspan="2" *ngIf="property.name_ar == 'حروف اللوحة عربي'">
                                                <span>{{property.filter_value.filter_value | input}}</span>
                                              </td>
                                              <td colspan="1" *ngIf="property.name_ar == 'ارقام اللوحة عربي'" class="separate_thick"></td>
                                              <td colspan="2" *ngIf="property.name_ar == 'ارقام اللوحة عربي'">
                                                <span>{{property.filter_value.filter_value | input}}</span>
                                              </td>
                                          </ng-container>
                                        </ng-container>
                                      </tr>
                                      <tr>
                                        <ng-container *ngFor="let property of fav.product.properties">
                                          <ng-container *ngIf="property.type == 'text'">
                                              <td colspan="1" *ngIf="property.name_ar == 'حروف اللوحة انجليزي'" class="separate_thin" [ngClass]="{'mac': mac}"></td>
                                              <td colspan="2" *ngIf="property.name_ar == 'حروف اللوحة انجليزي'">
                                                <span>{{property.filter_value.filter_value | input}}</span>
                                              </td>
                                              <td colspan="1" *ngIf="property.name_ar == 'ارقام اللوحة انجليزي'" class="separate_thick"></td>
                                              <td colspan="2" *ngIf="property.name_ar == 'ارقام اللوحة انجليزي'">
                                                <span class="lrt">{{property.filter_value.filter_value | input}}</span>
                                              </td>
                                          </ng-container>
                                        </ng-container>
                                      </tr>
                                    </tbody>
                                  </table>
                                  </a>
                                </div>
                                <div class="card-body p-3">
                                  <div class="d-flex justify-content-between align-items-center pb-2">
                                    <ng-container  *ngFor="let property of fav.product.properties">
                                      <a (click)="productDetails(fav.product.id)" 
                                      [ngClass]="{'pe-none': fav.product.status === 'sold' }"
                                      *ngIf="property.slug_name == 'plate_type_filter_6'" 
                                      >{{property.filter_value.filter_value}}</a>
                                    </ng-container>
                                    <img src="../../assets/images/nego_icon.svg" alt="nego_icon" *ngIf="fav.product.price == 0">
                                  </div>
                                  <div class="d-flex justify-content-between align-items-center pb-2">
                                    <p class="card_num" *ngIf="fav.product.price !== 0">{{fav.product.price}} ر.س</p>
                                    <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{fav.product.created_since | dateAgo}}</span></p>
                                  </div>
                                  <div class="evaluation d-flex justify-content-between align-items-center">
                                    <p><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{fav.product.region_name == null ? 'غير معروف': fav.product.region_name}}</p>
                                  </div>
                                </div>
                              </div>
                            </div>
                        </div>
                        <p class="none" *ngIf="errFav !== ''">{{errFav}}</p>
                      </ng-template>
                    </li>
                  </ul>
                  <div [ngbNavOutlet]="nav" class="mt-2 px-1 px-sm-3"></div>
            </div> 
        </div>
    </div>
</div>
<!-- filter modal -->
<div class="modal fade"
id="myModalFilter"
tabindex="-1"
aria-labelledby="exampleModalLabel"
aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered modal-sm">
      <div class="modal-content">
        <div class="modal-header justify-content-start">
          <div class="col-5">
              <button type="button" class="btn p-0" data-bs-dismiss="modal" aria-label="Close">
                <img src="../../assets/images/close.svg" alt="close">
              </button>
            </div>
            <h5 class="modal-title text-center" >اضافه فلتر</h5>
      </div>
        <mat-progress-bar mode="indeterminate" class="my-3" *ngIf="load" id="addprog"></mat-progress-bar>
        <!-- <p class="text-center" *ngIf="result">{{result}}</p> -->
        <div class="modal-body">
            <div class="sort py-2">
                <select class="form-select" 
                  aria-label="Default select example" (change)="onSelected($event)">
                    <option value="" selected disabled>حاله الاعلان</option>
                    <option value="sold">منتهية</option>
                    <option value="active">نشطه</option>
                </select>
            </div>
        </div>
      </div>
  </div>
</div>
<!-- success  -->
<div id="successAdds" 
class="modal fade"
tabindex="-1"
aria-labelledby="exampleModalLabel"
aria-hidden="true"
>
	<div class="modal-dialog modal-dialog-centered modal-sm">
		<div class="modal-content">
			<div class="modal-header justify-content-start">
        <div class="col-5">
            <button type="button" class="btn p-0" data-bs-dismiss="modal" aria-label="Close">
              <img src="../../assets/images/close.svg" alt="close">
            </button>
        </div>
    </div>
			<div class="modal-body text-center">
        <img src="../../assets/images/sucess-mark.svg" alt="sucess-mark" width="67px">
        <p class="py-3">{{successMsg}}</p>
			</div>
		</div>
	</div>
</div>    
<!-- faild  -->
<div id="faildAdds" 
class="modal fade"
tabindex="-1"
aria-labelledby="exampleModalLabel"
aria-hidden="true"
>
	<div class="modal-dialog modal-dialog-centered modal-sm">
		<div class="modal-content">
			<div class="modal-header justify-content-start">
        <div class="col-5">
            <button type="button" class="btn p-0" data-bs-dismiss="modal" aria-label="Close">
              <img src="../../assets/images/close.svg" alt="close">
            </button>
        </div>
    </div>
			<div class="modal-body text-center">
        <img src="../../assets/images/faild-mark.svg" alt="faild-mark" width="67px">
        <p class="py-3">{{error}}</p>
			</div>
		</div>
	</div>
</div>     