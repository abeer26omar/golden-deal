<div class="">
  <div class="row justify-content-between align-items-center py-4">
      <div class="col-sm-12 col-md-5" id="search">
              <input class="form-control" value="{{key}}" (input)="search($event)" type="search" placeholder="البحث" aria-label="Search">
      </div>
      <div class="col-sm-12 col-md-4 d-flex justify-content-end div-add">
        <button class="btn btn-adds" (click)="goLittleRockStar()"><img src="../../assets/images/adds.svg" alt="adds" ><span class="pe-2">إضافة إعلان</span></button>
    </div>
  </div>
</div>
<!-- <app-adds-banner></app-adds-banner> -->
<section class="buy-record mt-5 mb-5" #productsContainer>
    <div class="header ">
        <span class="title"><img src="../../assets/images/left-arrow.svg" class="ps-2">نتائج البحث</span>
    </div>
    <div class="my-prods py-5">
      <div class="loader" *ngIf="loader">
        <div class="dot1"></div>
        <div class="dot2"></div>
        <div class="dot3"></div>
      </div>
      <p class="text-danger text-center" *ngIf="errMsg !== '' ">{{errMsg}}</p>
        <div class="products-row row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4 justify-content-start">
              <div class="col wow" *ngFor="let add of searchRes">
                <div class="card h-100" *ngIf="add.category_slug !== 'car_plates'">
                  <div class="card-header text-center">
                    <a (click)="productDetails(add.id)" [ngClass]="{'pe-none': add.status === 'sold' }">
                      <img src="{{add.default_image ? add.default_image : '../../assets/images/placeholderimg.jpg'}}" alt="car" width="100%" height="200px !important">
                    </a>
                    <div class="favorite" *ngIf="add.status === 'active'">
                      <a (click)="addToFav(add)">
                        <img src="../../assets/images/{{add.product_fav == false ? 'favorite_icon.svg' : 'already_fav_icon.svg'}}" alt="already_fav_icon" >
                      </a>
                        <!-- <a (click)="actionService.removeFav(add.id)" class="btn add_fav p-0" *ngIf="add.product_fav == true">
                         <img src="../../assets/images/already_fav_icon.svg" alt="already_fav_icon" srcset="../../assets/images/already_fav_icon.svg">
                        </a>
                        <a (click)="actionService.addToFav(add.id)" class="btn add_fav p-0" *ngIf="add.product_fav == false">
                          <img src="../../assets/images/favorite_icon.svg" alt="addToFav" srcset="../../assets/images/favorite_icon.svg">                         
                        </a> -->
                    </div>
                    <div class="favorite" *ngIf="add.status === 'sold'">
                      <img src="../../assets/images/solid-flag.svg" alt="">
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <a  (click)="productDetails(add.id)" [ngClass]="{'pe-none': add.status === 'sold' }">{{(add.name.length > 20)? (add.name | slice:0:20)+'..':(add.name)}}</a>
                      <img src="../../assets/images/nego_icon.svg" alt="nego_icon" *ngIf="add.negotiable == 1">
                    </div>
                    <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{add.created_since | dateAgo}}</span></p>
                    <div class="evaluation d-flex justify-content-between align-items-center">
                      <p><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{add.region_name == '' ? 'غير معروف': add.region_name}}</p>
                      <div class="person d-flex align-items-center">
                          <img class="ps-1" src="../../assets/images/profile_icon.svg" alt="profile_icon" width="20px" >
                          <a (click)="sellerProfile(add.owner_id)" style="cursor: pointer;">
                            {{add.owner.name}}
                          </a>                      
                      </div>
                    </div>
                  </div>
                </div>
                <div class="card h-100" *ngIf="add.category_slug == 'car_plates'">
                  <div class="card-header plates text-center" >
                    <a (click)="productDetails(add.id)"
                      [ngClass]="{'pe-none': add.status === 'sold' }" class="car_plates_container">
                      <ng-container *ngFor="let property of add.properties">
                              <ng-container *ngIf="property.slug_name == 'plate_type_filter_6'">
                                <img class="car_plates" src="{{property.filter_value.filter_value == 'نقل' ?  '../../assets/images/carplate_nakl.svg' : '../../assets/images/car_paletes_details.svg'}}" alt="carplate_img">
                              </ng-container>
                      </ng-container>
                      <table class="table">
                        <tbody>
                          <tr>
                            <ng-container *ngFor="let property of add.properties">
                              <ng-container *ngIf="property.type == 'text'">
                                  <td colspan="1" *ngIf="property.name_ar == 'حروف اللوحة عربي'"  class="separate_thin" [ngClass]="{'mac': mac}"></td>
                                  <td colspan="2" *ngIf="property.name_ar == 'حروف اللوحة عربي'">
                                    <span>{{property.filter_value.filter_value | input}}</span>
                                  </td>
                                  <td colspan="1" *ngIf="property.name_ar == 'ارقام اللوحة عربي'" class="separate_thick"></td>
                                  <td colspan="2" *ngIf="property.name_ar == 'ارقام اللوحة عربي'">
                                    <span>{{property.filter_value.filter_value | input}}</span>
                                  </td>
                              </ng-container>
                            </ng-container>
                          </tr>
                          <tr>
                            <ng-container *ngFor="let property of add.properties">
                              <ng-container *ngIf="property.type == 'text'">
                                  <td colspan="1" *ngIf="property.name_ar == 'حروف اللوحة انجليزي'" class="separate_thin" [ngClass]="{'mac': mac}"></td>
                                  <td colspan="2" *ngIf="property.name_ar == 'حروف اللوحة انجليزي'">
                                    <span>{{property.filter_value.filter_value | input}}</span>
                                  </td>
                                  <td colspan="1" *ngIf="property.name_ar == 'ارقام اللوحة انجليزي'" class="separate_thick"></td>
                                  <td colspan="2" *ngIf="property.name_ar == 'ارقام اللوحة انجليزي'">
                                    <span class="lrt">{{property.filter_value.filter_value | input}}</span>
                                  </td>
                              </ng-container>
                            </ng-container>
                          </tr>
                        </tbody>
                      </table>
                      </a>
                    <div  class="favorite" *ngIf="add.status === 'active'">
                      <a (click)="addToFav(add)">
                        <img src="../../assets/images/{{add.product_fav == false ? 'favorite_icon.svg' : 'already_fav_icon.svg'}}" alt="already_fav_icon" >
                      </a>
                    </div>
                    <div class="favorite" *ngIf="add.status === 'sold'">
                      <img src="../../assets/images/solid-flag.svg" alt="">
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <a (click)="productDetails(add.id)" [ngClass]="{'pe-none': add.status === 'sold' }"
                        >{{(add.name.length > 20)? (add.name | slice:0:20)+'..':(add.name)}}</a>
                      <img src="../../assets/images/nego_icon.svg" alt="nego_icon" *ngIf="add.negotiable == 1">
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                      <p class="card_num">{{add.price}}</p>
                      <p class="time"><img src="../../assets/images/clock.svg" alt="clock"><span>منذ {{add.created_since | dateAgo}}</span></p>
                    </div>
                    <div class="evaluation d-flex justify-content-between align-items-center">
                      <p><img src="../../assets/images/location_icon (2).svg" alt="location_icon"> {{add.region_name == null ? 'غير معروف': add.region_name}}</p>
                      <div class="person d-flex align-items-center">
                          <img class="ps-1" src="../../assets/images/profile_icon.svg" alt="profile_icon" width="20px" >
                          <a (click)="sellerProfile(add.owner_id)">
                            {{add.owner.name}}
                          </a>                      
                      </div>
                    </div>
                  </div>
                </div>
              </div>
        </div> 
    </div>
<ngb-pagination class="d-flex justify-content-center my-pagination" 
  [collectionSize]="meta.total"
  [pageSize]="meta.per_page" 
  [(page)]="meta.current_page"
  [boundaryLinks]="true"
  [maxSize]="5"
  [rotate]="true"
  [ellipses]="false"
  (pageChange)="paginate($event)">
    <ng-template ngbPaginationFirst>
      <i class="fas fa-angle-double-right"></i>
    </ng-template>
    <ng-template ngbPaginationNext>
      <i class="fa-solid fa-angle-left"></i>
    </ng-template>
    <ng-template ngbPaginationPrevious>
      <i class="fa-solid fa-angle-right"></i>
    </ng-template>
    <ng-template ngbPaginationLast>
      <i class="fas fa-angle-double-left"></i>
    </ng-template>
</ngb-pagination>
</section>